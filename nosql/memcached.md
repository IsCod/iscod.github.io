# memcached

### 缓存穿透

* 场景

大量非法请求没有命中缓存，直接查询数数据库，造成数据库故障。

* 解决方案

可以在缓存前设置一层`布隆过滤器(redis bitmap类型实现)`，通过布隆过滤器排除大部分没有的数据，直接返回用户，达到限流拦截的目的

### 缓存雪崩

1. 缓存服务故障

    * 采用缓存集群，并设置主从，避免单机故障，保证高可用。
    * 搭建多级缓存，例如增加`EHCache`
    * 增加访问限流，例如超过一定的访问量时，拒绝服务

1. 大量的key过期

    *缓存TTL过期时间，尽量采用随机




* 参考
    * [布隆过滤器](hhttps://github.com/bits-and-blooms/bloom/)
